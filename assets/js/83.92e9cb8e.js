(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{447:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[s("img",{attrs:{src:"https://photo-album-1314189846.cos.ap-shanghai.myqcloud.com/202303231528140.png",alt:"Vue2 Diff ç®—æ³•"}})]),t._v(" "),s("h1",{attrs:{id:"diff-ç®—æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff-ç®—æ³•"}},[t._v("#")]),t._v(" Diff ç®—æ³•")]),t._v(" "),s("h2",{attrs:{id:"å†™åœ¨å‰é¢"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å†™åœ¨å‰é¢"}},[t._v("#")]),t._v(" å†™åœ¨å‰é¢")]),t._v(" "),s("p",[t._v("å› ä¸ºä¹‹å‰çœ‹é¢è¯•ç›´æ’­ä¹Ÿç»å¸¸é—®åˆ° Diff ç®—æ³•ï¼Œç„¶åä½œè€…æœ¬äººç”¨ Vue2 æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥æ‰“ç®—ç ”ç©¶ä¸€ä¸‹ Vue2 çš„ Diff ç®—æ³•ï¼Œå…¶å®å¾ˆæ—©å°±æƒ³å­¦çš„ï¼Œä½†æ˜¯å¯èƒ½å› ä¸ºæ„Ÿè§‰ Diff ç®—æ³•æ¯”è¾ƒæ·±å¥¥ï¼Œå°±ä¸€ç›´æ‹–ç€æ²¡å­¦ï¼Œä½†æ˜¯æœ€è¿‘åœ¨å‡†å¤‡é¢è¯•ï¼Œå°±æƒ³ç€è¿Ÿæ—©éƒ½è¦å­¦çš„ï¼Œè¶è¿™ä¸ªæœºä¼šæŠŠ Diff ç®—æ³•ææ‡‚å§ ğŸ§ï¼Œä½œè€…å°±èŠ±äº†ä¸€å¤©çš„æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹ï¼Œå¯èƒ½æ²¡æœ‰å®Œå…¨ç†è§£ Diff ç®—æ³•çš„ç²¾é«“ï¼Œè¯·å„ä½è§è°…ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("ğŸ’¡ è¿™ä¸ªå…¶å®ç®—ä½œè€…çš„å­¦ä¹ ç¬”è®°ï¼Œè€Œä¸”ä½œè€…æ°´å¹³æœ‰é™ï¼Œæ”¹æ–‡ç« ä»…ä»£è¡¨ä½œè€…ä¸ªäººè§‚ç‚¹ï¼Œå¦‚æœæœ‰é”™è¯¯å¯ä»¥è¯„è®ºåŒºæŒ‡å‡ºæ¥ï¼Œä¼šä¸æ–­å®Œå–„ï¼›åŒæ—¶æœ¬æ–‡å¾ˆé•¿ï¼Œæ‰€ä»¥è¯·è¯»è€…ä»¬æœ‰è€å¿ƒçš„çœ‹å®Œï¼Œçœ‹å®Œåä½œè€…ç›¸ä¿¡ä½ ä»¬ä¼šå¯¹ Diff ç®—æ³•æœ‰æ›´æ·±çš„äº†è§£ã€‚æœ¬äººè§‰å¾—æœ¬æ–‡æ¯”ç›®å‰ç½‘ä¸Šè®²è§£ Diff ç®—æ³•çš„å¤§éƒ¨åˆ†æ–‡ç« è¦æ›´å¥½ï¼Œå› ä¸ºæœ¬æ–‡ä»é—®é¢˜å‡ºå‘ï¼Œæ•™ä¼šå¤§å®¶å¦‚ä½•æ€è€ƒï¼Œè€Œä¸æ˜¯ç›´æ¥ä»ç­”æ¡ˆå‡ºå‘ï¼Œå°±åƒè¯»ç­”æ¡ˆä¸€æ ·ï¼Œè¿™æ ·æ„Ÿè§‰æ²¡ä»€ä¹ˆæ„æ€ï¼Œæœ¬æ–‡ä¸€æ­¥ä¸€æ­¥çš„å¼•å¯¼å¤§å®¶å»æ„Ÿå— Diff ç®—æ³•çš„ç²¾å¦™ï¼ŒåŒæ—¶æœ€åä¹Ÿåšäº†ä¸€ä¸‹å°å®éªŒï¼Œè®©å¤§å®¶å¯¹ Diff ç®—æ³•æœ‰æ›´åŠ ç›´è§‚çš„æ„Ÿå— ğŸ‰ã€‚")])]),t._v(" "),s("h2",{attrs:{id:"ä¸ºä»€ä¹ˆè¦ç”¨-diff-ç®—æ³•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦ç”¨-diff-ç®—æ³•"}},[t._v("#")]),t._v(" ä¸ºä»€ä¹ˆè¦ç”¨ Diff ç®—æ³•")]),t._v(" "),s("h3",{attrs:{id:"è™šæ‹Ÿ-dom"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹Ÿ-dom"}},[t._v("#")]),t._v(" è™šæ‹Ÿ DOM")]),t._v(" "),s("p",[t._v("å› ä¸º Vue2 åº•å±‚æ˜¯ç”¨è™šæ‹Ÿ DOM æ¥è¡¨ç¤ºé¡µé¢ç»“æ„çš„ï¼Œè™šæ‹Ÿ DOMå…¶å®å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœæƒ³çŸ¥é“æ€ä¹ˆç”Ÿæˆçš„ï¼Œå…¶å®å¤§æ¦‚æµç¨‹å°±æ˜¯ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é¦–å…ˆè§£ææ¨¡æ¿å­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯ "),s("code",[t._v(".vue")]),t._v(" æ–‡ä»¶")]),t._v(" "),s("li",[t._v("ç„¶åè½¬æ¢æˆ AST è¯­æ³•æ ‘")]),t._v(" "),s("li",[t._v("æ¥ç€ç”Ÿæˆ render å‡½æ•°")]),t._v(" "),s("li",[t._v("æœ€åè°ƒç”¨ render å‡½æ•°ï¼Œå°±èƒ½ç”Ÿæˆè™šæ‹Ÿ DOM")])]),t._v(" "),s("h3",{attrs:{id:"æœ€å°é‡æ›´æ–°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æœ€å°é‡æ›´æ–°"}},[t._v("#")]),t._v(" æœ€å°é‡æ›´æ–°")]),t._v(" "),s("p",[t._v("å…¶å®æ¡†æ¶ä¸ºäº†æ€§èƒ½æ‰ä½¿ç”¨çš„è™šæ‹Ÿ DOMï¼Œå› ä¸º js ç”Ÿæˆ DOM ç„¶åå±•ç¤ºé¡µé¢æ˜¯å¾ˆæ¶ˆè€—æ€§èƒ½çš„ï¼Œå¦‚æœæ¯ä¸€æ¬¡çš„æ›´æ–°éƒ½æŠŠæ•´ä¸ªé¡µé¢é‡æ–°ç”Ÿæˆä¸€éé‚£ä½“éªŒè‚¯å®šä¸å¥½ï¼Œæ‰€ä»¥éœ€è¦æ‰¾åˆ°ä¸¤ä¸ªé¡µé¢ä¸­å˜åŒ–çš„åœ°æ–¹ï¼Œç„¶ååªè¦æŠŠå˜åŒ–çš„åœ°æ–¹ç”¨ js æ›´æ–° "),s("em",[t._v("(å¯èƒ½æ˜¯å¢åŠ ã€åˆ é™¤æˆ–è€…æ›´æ–°)")]),t._v(" ä¸€ä¸‹å°±è¡Œäº†ï¼Œä¹Ÿå°±æ˜¯æœ€å°é‡æ›´æ–°ã€‚ é‚£ä¹ˆæ€ä¹ˆå®ç°æœ€å°é‡æ›´æ–°å‘¢ï¼Ÿé‚£ä¹ˆå°±è¦ç”¨ Diff ç®—æ³•äº†ï¼Œé‚£ä¹ˆ Diff ç®—æ³•å¯¹æ¯”çš„åˆ°åº•æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿå¯èƒ½è¿™æ˜¯åˆšå­¦ Diff ç®—æ³•æ¯”è¾ƒå®¹æ˜“è¯¯è§£çš„åœ°æ–¹ï¼Œ"),s("strong",[t._v("å…¶å®æ¯”å¯¹çš„æ˜¯æ–°æ—§è™šæ‹Ÿ DOM")]),t._v("ï¼Œæ‰€ä»¥ Diff ç®—æ³•å°±æ˜¯æ‰¾ä¸åŒï¼Œæ‰¾åˆ°ä¸¤æ¬¡è™šæ‹Ÿ DOM çš„ä¸åŒä¹‹å¤„ï¼Œç„¶åå°†ä¸åŒååº”åˆ°é¡µé¢ä¸Šï¼Œè¿™å°±å®ç°äº†æœ€å°é‡æ›´æ–°ï¼Œå¦‚æœåªæ›´æ–°å˜åŒ–çš„åœ°æ–¹é‚£æ€§èƒ½è‚¯å®šæ›´å¥½ã€‚")]),t._v(" "),s("h2",{attrs:{id:"é¡µé¢æ›´æ–°æµç¨‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é¡µé¢æ›´æ–°æµç¨‹"}},[t._v("#")]),t._v(" é¡µé¢æ›´æ–°æµç¨‹")]),t._v(" "),s("p",[t._v("å…¶å®è¿™ä¸ªæ¯”è¾ƒéš¾è§£é‡Šï¼Œä½œè€…ä¹Ÿå°±å¤§è‡´è¯´ä¸€ä¸‹ï¼Œå­¦äº† Vue çš„éƒ½çŸ¥é“è¿™ä¸ªæ¡†æ¶çš„ç‰¹ç‚¹ä¹‹ä¸€å°±æœ‰æ•°æ®å“åº”å¼ï¼Œä»€ä¹ˆæ˜¯å“åº”å¼ï¼Œä¹Ÿå°±æ˜¯æ•°æ®æ›´æ–°é¡µé¢ä¹Ÿæ›´æ–°ï¼Œé‚£ä¹ˆé¡µé¢æ˜¯æ€ä¹ˆçŸ¥é“è‡ªå·±è¦æ›´æ–°äº†å‘¢ï¼Ÿå…¶å®è¿™å°±æ˜¯è¿™ä¸ªæ¡†æ¶æ¯”è¾ƒé«˜æ˜çš„åœ°æ–¹äº†ï¼Œå¤§è‡´æµç¨‹å¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ä¹‹å‰ä¹Ÿè¯´äº†ä¼šè¿è¡Œ render å‡½æ•°ï¼Œé‚£ä¹ˆè¿è¡Œ render å‡½æ•°çš„æ—¶å€™ä¼šè¢«æ•°æ®åŠ«æŒï¼Œä¹Ÿå°±æ˜¯è¿›å…¥ "),s("code",[t._v("Object.defineProperty")]),t._v(" çš„ "),s("code",[t._v("get")]),t._v("ï¼Œé‚£ä¹ˆåœ¨è¿™é‡Œæ”¶é›†ä¾èµ–ï¼Œé‚£ä¹ˆæ˜¯è°æ”¶é›†ä¾èµ–å‘¢ï¼Ÿæ˜¯æ¯ä¸ªç»„ä»¶ï¼Œæ¯ä¸ªç»„ä»¶å°±æ˜¯ä¸€ä¸ª Watcherï¼Œä¼šè®°å½•è¿™ä¸ªç»„ä»¶å†…çš„æ‰€æœ‰å˜é‡ "),s("em",[t._v("(ä¹Ÿå°±æ˜¯ä¾èµ–)")]),t._v("ï¼Œå½“ç„¶æ¯ä¸ªä¾èµ– "),s("em",[t._v("(Dep)")]),t._v(" ä¹Ÿä¼šæ”¶é›†è‡ªå·±æ‰€åœ¨ç»„ä»¶çš„ Watcherï¼›")]),t._v(" "),s("li",[t._v("ç„¶åå½“é¡µé¢ä¸­çš„æ•°æ®å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå°±ä¼šå‡ºå‘ "),s("code",[t._v("Object.defineProperty")]),t._v(" çš„ "),s("code",[t._v("set")]),t._v("ï¼Œåœ¨è¿™ä¸ªå‡½æ•°é‡Œé¢æ•°æ®å°±ä¼šé€šçŸ¥æ¯ä¸ª Watcher æ›´æ–°é¡µé¢ï¼Œç„¶åæ¯ä¸ªé¡µé¢å°±ä¼šè°ƒç”¨æ›´æ–°æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯ "),s("code",[t._v("patch")]),t._v("ï¼›")]),t._v(" "),s("li",[t._v("æ¥ç€ï¼Œå°±è¦æ‰¾åˆ°ä¸¤ä¸ªé¡µé¢ä¹‹é—´çš„å˜åŒ–é‡ï¼Œé‚£ä¹ˆå°±è¦ç”¨åˆ° Diff ç®—æ³•äº†")]),t._v(" "),s("li",[t._v("æœ€åæ‰¾åˆ°å˜åŒ–é‡åå°±å¯ä»¥è¿›è¡Œæ›´æ–°é¡µé¢äº†")])]),t._v(" "),s("blockquote",[s("p",[t._v("å…¶å®æ˜¯è¾¹æ‰¾è¾¹æ›´æ–°çš„ï¼Œä¸ºäº†è®©å¤§å®¶ç†è§£å®¹æ˜“å°±å°†è¿™ä¸¤ä¸ªéƒ¨åˆ†åˆ†å¼€äº†")])]),t._v(" "),s("h2",{attrs:{id:"diff-ç®—æ³•ç®€å•ä»‹ç»"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff-ç®—æ³•ç®€å•ä»‹ç»"}},[t._v("#")]),t._v(" Diff ç®—æ³•ç®€å•ä»‹ç»")]),t._v(" "),s("p",[t._v("é¢è¯•é—®åˆ° Diff ç®—æ³•æ˜¯ä»€ä¹ˆï¼Œå¤§å®¶è‚¯å®šä¼šè¯´ä¸¤å¥ï¼Œæ¯”å¦‚ "),s("code",[t._v("å¤´å¤´ã€å°¾å°¾ã€å°¾å¤´ã€å¤´å°¾")]),t._v("ã€"),s("code",[t._v("æ·±åº¦ä¼˜å…ˆéå†(dfs)")]),t._v("ã€"),s("code",[t._v("åŒå±‚æ¯”è¾ƒ")]),t._v(" ç±»ä¼¼è¿™äº›è¯è¯­ï¼Œè™½ç„¶èƒ½è¯´ä¸€ä¸¤å¥å…¶å®ä¹Ÿæ˜¯æµ…å°è¾„æ­¢ã€‚ å…¶å®ä½œè€…çœ‹äº† CSDN ä¸Šå‘çš„å…³äº Diff ç®—æ³•çš„æ–‡ç« ï¼Œå°±æ˜¯é˜…è¯»é‡å¾ˆé«˜çš„æ–‡ç« ï¼Œä½œè€…è§‰å¾—ä»–ä¹Ÿæ²¡è®²æ˜ç™½ï¼Œå¯èƒ½ä»–è‡ªå·±æ²¡æ˜ç™½ï¼Œæˆ–è€…è‡ªå·±æ˜ç™½äº†ä½†æ˜¯æ²¡è®²æ¸…æ¥šï¼Œé‚£ä¹ˆä½œè€…ä¼šç”¨è‡ªå·±çš„æ„Ÿæ‚Ÿå’Œå¤§å®¶åˆ†äº«ä¸€ä¸‹ã€‚")]),t._v(" "),s("h3",{attrs:{id:"diff-ç®—æ³•çš„å‰æ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#diff-ç®—æ³•çš„å‰æ"}},[t._v("#")]),t._v(" Diff ç®—æ³•çš„å‰æ")]),t._v(" "),s("p",[t._v("ä¸ºäº†è®©å¤§å®¶èƒ½å¤Ÿäº†è§£æ¸…æ¥šï¼Œè¿™é‡Œå…ˆè¯´æ˜ä¸€ä¸‹å‡½æ•°è°ƒç”¨æµç¨‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("patch")]),t._v(" "),s("li",[t._v("patchVnode")]),t._v(" "),s("li",[t._v("updateChildren")])]),t._v(" "),s("p",[t._v("Diff ç®—æ³•çš„ "),s("code",[t._v("å‰æ")]),t._v(" è¿™ä¸ªæ˜¯å¾ˆé‡è¦çš„ï¼Œå¯èƒ½å¤§å®¶ä¼šé—®ä»€ä¹ˆæ˜¯å‰æï¼Ÿä¸å°±æ˜¯ä¹‹å‰è¯´çš„é‚£äº›æ¯”è¾ƒå˜›ï¼Ÿè¯´çš„æ²¡é”™ä½†ä¹Ÿä¸å¯¹ï¼Œå› ä¸º Diff ç®—æ³•åˆ°è¾¾ä¹‹å‰è¯´çš„ "),s("code",[t._v("å¤´å¤´ã€å°¾å°¾ã€å°¾å¤´ã€å¤´å°¾")]),t._v(" è¿™ä¸€æ­¥çš„å‰æå°±æ˜¯ä¸¤æ¬¡å¯¹æ¯”çš„èŠ‚ç‚¹æ˜¯ "),s("code",[t._v("ç›¸åŒçš„")]),t._v("ï¼Œè¿™é‡Œçš„ç›¸åŒä¸æ˜¯å¤§å®¶æƒ³çš„å®Œå…¨ç›¸åŒï¼Œåªæ˜¯ç¬¦åˆæŸäº›æ¡ä»¶å°±æ˜¯ç›¸åŒäº†ï¼Œä¸ºäº†ç®€åŒ–è¯´æ˜ï¼Œæ–‡ç« å°±åªè€ƒè™‘ä¸€ä¸ªæ ‡ç­¾åªåŒ…å« "),s("code",[t._v("key")]),t._v(" å’Œ "),s("code",[t._v("æ ‡ç­¾å(tag)")]),t._v("ï¼Œé‚£ä¹ˆä¹‹å‰è¯´çš„ç›¸åŒå°±æ˜¯ "),s("code",[t._v("key ç›¸åŒä»¥åŠ tag ç›¸åŒ")]),t._v("ï¼Œä¸ºäº†è¯æ˜ä½œè€…çš„è¯´æ³•æ˜¯æœ‰ç‚¹æ­£ç¡®çš„ï¼Œé‚£ä¹ˆè¿™é‡Œä¹Ÿè´´ä¸Šæºç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://github.com/vuejs/vue/blob/main/src/core/vdom/patch.ts")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 36è¡Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sameVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n    a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asyncFactory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asyncFactory "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n      a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isComment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isComment "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sameInputType")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isTrue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isAsyncPlaceholder"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("asyncFactory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br")])]),s("p",[t._v("å¦‚æœæ€•ä¹±äº†ï¼Œä¸‹é¢çš„å¯ä»¥çœç•¥ä¸çœ‹ä¹Ÿæ²¡äº‹ä¸å½±å“æ•´ä½“äº†è§£ï¼Œä¸‹é¢åªæ˜¯ä¸ºäº†è€ƒè™‘æ‰€æœ‰æƒ…å†µæ‰åŠ çš„ä¸€ä¸ªåˆ¤æ–­ï¼š é‚£ä¹ˆå¦‚æœä¸¤ä¸ªè™šæ‹Ÿ DOM ä¸ç›¸åŒå…¶å®å°±ä¸ç”¨ç»§ç»­æ¯”è¾ƒäº†ï¼Œè€Œä¸”å¦‚æœç›¸åŒä¹Ÿä¸ç”¨æ¯”è¾ƒäº†ï¼Œè¿™é‡Œçš„ç›¸åŒæ˜¯çœŸçš„å®Œå…¨ç›¸åŒï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªè™šæ‹Ÿ DOM çš„åœ°å€æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆä¹Ÿè´´ä¸Šæºç ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" vnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("p",[t._v("åˆ°ç›®å‰ä¸ºæ­¢å¤§å®¶å¯èƒ½ä¼šæ¯”è¾ƒä¹±ï¼Œç°åœ¨æ€»ç»“ä¸€ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åœ¨ "),s("code",[t._v("patch")]),t._v(" å‡½æ•°é‡Œæ¯”è¾ƒçš„æ˜¯æ–°è€è™šæ‹Ÿ DOM æ˜¯å¦æ˜¯ "),s("code",[t._v("key ç›¸åŒä»¥åŠ tag ç›¸åŒ")]),t._v("ï¼Œå¦‚æœä¸ç›¸åŒé‚£ä¹ˆå°±ç›´æ¥æ›¿æ¢ï¼Œå¦‚æœç›¸åŒç”¨ "),s("code",[t._v("patchVnode")])])]),t._v(" "),s("p",[t._v("è¯´äº†è¿™ä¹ˆå¤šï¼Œå…¶å®ä½œè€…ä¹Ÿå°±æƒ³è¡¨è¾¾ä¸€ä¸ªè§‚ç‚¹ï¼Œå°±æ˜¯åªæœ‰å½“ä¸¤æ¬¡æ¯”è¾ƒçš„è™šæ‹Ÿ DOM æ˜¯ "),s("code",[t._v("ç›¸åŒçš„")]),t._v(" æ‰ä¼šè€ƒè™‘ Diff ç®—æ³•ï¼Œå¦‚æœä¸ç¬¦åˆé‚£ç›´æ¥æŠŠåŸæ¥çš„åˆ é™¤ï¼Œæ›¿æ¢æ–°çš„ DOM å°±è¡Œäº†ã€‚")]),t._v(" "),s("h2",{attrs:{id:"patchvnode-å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#patchvnode-å‡½æ•°"}},[t._v("#")]),t._v(" patchVnode å‡½æ•°")]),t._v(" "),s("p",[t._v("è¿™ä¸ªå‡½æ•°é‡Œçš„æ‰æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„ Diff ç®—æ³•ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ä¼šç»“åˆæºç å‘å¤§å®¶ä»‹ç»ä¸€ä¸‹ã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("æºç ä¸­æ ¸å¿ƒä»£ç åœ¨ "),s("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fvuejs%2Fvue%2Fblob%2Fa9ca2d85193e435e668ba25ace481bfb176b0c6e%2Fsrc%2Fcore%2Fvdom%2Fpatch.ts%23L584",target:"_blank",rel:"noopener noreferrer"}},[t._v("patch.ts"),s("OutboundLink")],1),t._v(" çš„ 638 è¡Œè‡³ 655 è¡Œã€‚")])]),t._v(" "),s("p",[t._v("å…¶å®ï¼Œç›®å‰ä»‹ç» patchVnode çš„éƒ½æ˜¯ç›´æ¥å¯¹ç€æºç æ¥ä»‹ç»çš„ï¼Œä½†æ˜¯å¤§å®¶å¯èƒ½ä¸æ¸…æ¥šä¸ºå•¥è¦è¿™ä¹ˆåˆ†ç±»ï¼Œé‚£ä¹ˆä½œè€…åœ¨è¿™é‡Œå°±è®©å¤§å®¶æ˜ç™½ä¸ºä»€ä¹ˆè¿™ä¹ˆåˆ†ç±»ï¼Œé¦–å…ˆåœ¨è¿™é‡Œè¯´ä¸€ä¸ªç»“è®ºï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å°±æ˜¯ "),s("code",[t._v("text")]),t._v(" å±æ€§å’Œ "),s("code",[t._v("children")]),t._v(" å±æ€§ä¸å¯èƒ½åŒæ—¶å­˜åœ¨ï¼Œè¿™ä¸ªéœ€è¦å¤§å®¶çœ‹æ¨¡æ¿è§£ææºç éƒ¨åˆ†")])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆåœ¨å¯¹æ¯”æ–°æ—§èŠ‚ç‚¹çš„æƒ…å†µä¸‹ï¼Œä¸»è¦æ¯”è¾ƒçš„å°±æ˜¯æ˜¯å¦å­˜åœ¨ "),s("code",[t._v("text")]),t._v(" å’Œ "),s("code",[t._v("children")]),t._v(" çš„æƒ…å†µï¼Œé‚£ä¹ˆä¼šæœ‰å¦‚ä¸‹ä¹ç§æƒ…å†µ")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("æƒ…å†µ")]),t._v(" "),s("th",[t._v("è€èŠ‚ç‚¹ text")]),t._v(" "),s("th",[t._v("è€èŠ‚ç‚¹ children")]),t._v(" "),s("th",[t._v("æ–°èŠ‚ç‚¹ text")]),t._v(" "),s("th",[t._v("æ–°èŠ‚ç‚¹ children")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")])]),t._v(" "),s("tr",[s("td",[t._v("2")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")])]),t._v(" "),s("tr",[s("td",[t._v("3")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")])]),t._v(" "),s("tr",[s("td",[t._v("4")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")])]),t._v(" "),s("tr",[s("td",[t._v("5")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")])]),t._v(" "),s("tr",[s("td",[t._v("6")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")])]),t._v(" "),s("tr",[s("td",[t._v("7")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")])]),t._v(" "),s("tr",[s("td",[t._v("8")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")])]),t._v(" "),s("tr",[s("td",[t._v("9")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")]),t._v(" "),s("td",[t._v("âœ…")]),t._v(" "),s("td",[t._v("â")])])])]),t._v(" "),s("p",[t._v("æŒ‰ç…§ä¸Šé¢çš„è¡¨æ ¼ï¼Œå› ä¸ºå¦‚æœæ–°èŠ‚ç‚¹æœ‰æ–‡æœ¬èŠ‚ç‚¹ï¼Œå…¶å®è€èŠ‚ç‚¹ä¸ç®¡æ˜¯ä»€ä¹ˆéƒ½ä¼šè¢«æ›¿æ¢æ‰ï¼Œé‚£ä¹ˆå°±å¯ä»¥æŒ‰ç…§ "),s("code",[t._v("æ–°èŠ‚ç‚¹ text")]),t._v(" æ˜¯å¦å­˜åœ¨æ¥åˆ†ç±»ï¼Œå…¶å® Vue æºç ä¹Ÿæ˜¯è¿™ä¹ˆæ¥åˆ†ç±»çš„ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°è™šæ‹Ÿ DOM æœ‰å­èŠ‚ç‚¹")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" vnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ–°è™šæ‹Ÿ DOM æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œç›´æ¥ç”¨ textContent æ›¿æ¢æ‰")]),t._v("\n  nodeOps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTextContent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" vnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nå¤åˆ¶ä»£ç \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("é‚£ä¹ˆå¦‚æœæœ‰å­èŠ‚ç‚¹çš„è¯ï¼Œé‚£åº”è¯¥æ€ä¹ˆåˆ†ç±»å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥æŒ‰ç…§æ¯ç§æƒ…å†µéœ€è¦åšä»€ä¹ˆæ¥è¿›è¡Œåˆ†ç±»ï¼Œæ¯”å¦‚è¯´ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("ç¬¬ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬å•¥éƒ½ä¸ç”¨åšï¼Œå› æ­¤ä¹Ÿå¯ä»¥ä¸ç”¨è€ƒè™‘")]),t._v(" "),s("li",[t._v("ç¬¬äºŒç§æƒ…å†µï¼Œæˆ‘ä»¬åº”è¯¥æŠŠåŸæ¥ DOM çš„ "),s("code",[t._v("textContent")]),t._v(" è®¾ç½®ä¸º "),s("code",[t._v("''")])]),t._v(" "),s("li",[t._v("ç¬¬ä¸‰ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¹Ÿåº”è¯¥æŠŠåŸæ¥ DOM çš„ "),s("code",[t._v("textContent")]),t._v(" è®¾ç½®ä¸º "),s("code",[t._v("''")])]),t._v(" "),s("li",[t._v("ç¬¬å››ç§æƒ…å†µï¼Œæˆ‘ä»¬åº”è¯¥åŠ å…¥æ–°çš„å­èŠ‚ç‚¹")]),t._v(" "),s("li",[t._v("ç¬¬äº”ç§æƒ…å†µï¼Œè¿™ä¸ªæƒ…å†µæ¯”è¾ƒå¤æ‚ï¼Œéœ€è¦å¯¹æ¯”æ–°è€å­èŠ‚ç‚¹çš„ä¸åŒ")]),t._v(" "),s("li",[t._v("ç¬¬å…­ç§æƒ…å†µï¼Œæˆ‘ä»¬åº”è¯¥æŠŠåŸæ¥çš„ "),s("code",[t._v("textContent")]),t._v(" è®¾ç½®ä¸º "),s("code",[t._v("''")]),t._v(" åå†åŠ å…¥æ–°çš„å­èŠ‚ç‚¹")])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆé€šè¿‡ä»¥ä¸Šå…­ç§æƒ…å†µ "),s("em",[t._v("(æ–°è™šæ‹Ÿ DOM ä¸å«æœ‰ textï¼Œä¹Ÿå°±æ˜¯ä¸æ˜¯æ–‡æœ¬èŠ‚ç‚¹çš„æƒ…å†µ)")]),t._v("ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°è¿›è¡Œå½’ç±»ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("åˆ†ç±» 1ï¸âƒ£ï¼š "),s("code",[t._v("ç¬¬äºŒç§æƒ…å†µ")]),t._v(" å’Œ "),s("code",[t._v("ç¬¬ä¸‰ç§æƒ…å†µ")]),t._v("ã€‚è¿›è¡Œçš„æ˜¯æ“ä½œæ˜¯ï¼š"),s("strong",[t._v("æŠŠåŸæ¥ DOM çš„ "),s("code",[t._v("textContent")]),t._v(" è®¾ç½®ä¸º "),s("code",[t._v("''")])])]),t._v(" "),s("li",[t._v("åˆ†ç±» 2ï¸âƒ£ï¼š "),s("code",[t._v("ç¬¬å››ç§æƒ…å†µ")]),t._v(" å’Œ "),s("code",[t._v("ç¬¬å…­ç§æƒ…å†µ")]),t._v("ã€‚è¿›è¡Œçš„æ˜¯æ“ä½œæ˜¯ï¼š"),s("strong",[t._v("å¦‚æœè€è™šæ‹Ÿ DOM æœ‰ "),s("code",[t._v("text")]),t._v("ï¼Œå°±ç½®ç©ºï¼Œç„¶ååŠ å…¥æ–°çš„å­èŠ‚ç‚¹")])]),t._v(" "),s("li",[t._v("åˆ†ç±» 3ï¸âƒ£ï¼š"),s("code",[t._v("ç¬¬äº”ç§æƒ…å†µ")]),t._v("ã€‚è¿›è¡Œçš„æ˜¯æ“ä½œæ˜¯ï¼š"),s("strong",[t._v("éœ€è¦è¿›è¡Œç²¾ç»†æ¯”è¾ƒï¼Œå³å¯¹æ¯”æ–°è€å­èŠ‚ç‚¹çš„ä¸åŒ")])])]),t._v(" "),s("p",[t._v("å…¶å®æºç ä¹Ÿæ˜¯è¿™ä¹ˆæ¥è¿›è¡Œåˆ†ç±»çš„ï¼Œè€Œä¸”ä¹‹å‰è¯´çš„ "),s("code",[t._v("åŒå±‚æ¯”è¾ƒ")]),t._v(" ä¹Ÿå°±å¾—å‡ºæ¥äº†ï¼Œå› ä¸ºæ¯æ¬¡æ¯”è¾ƒéƒ½æ˜¯æ¯”è¾ƒçš„åŒä¸€ä¸ªçˆ¶èŠ‚ç‚¹æ¯ä¸€ä¸ªå­å…ƒç´  "),s("em",[t._v("(è¿™é‡Œçš„å­å…ƒç´ åŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹)")]),t._v(" æ˜¯å¦ç›¸åŒï¼Œè€Œ "),s("code",[t._v("æ·±åº¦ä¼˜å…ˆéå†(dfs)")]),t._v(" æ˜¯å› ä¸ºæ¯æ¬¡æ¯”è¾ƒä¸­ï¼Œå¦‚æœè¯¥èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹ "),s("em",[t._v("(è¿™é‡Œçš„å­èŠ‚ç‚¹æŒ‡çš„æ˜¯æœ‰ children å±æ€§ï¼Œè€Œä¸åŒ…æ‹¬æ–‡æœ¬èŠ‚ç‚¹)")]),t._v(" çš„è¯éœ€è¦è¿›è¡Œé€’å½’éå†ï¼ŒçŸ¥é“æœ€ååˆ°æ–‡æœ¬èŠ‚ç‚¹ç»“æŸã€‚")]),t._v(" "),s("blockquote",[s("p",[t._v("â­•ï¸ è¿™é‡Œéœ€è¦ææ¸…æ¥šå­èŠ‚ç‚¹å’Œå­å…ƒç´ çš„åŒºåˆ«å’Œè”ç³»")])]),t._v(" "),s("p",[t._v("ç„¶åæˆ‘ä»¬æ¥çœ‹çœ‹æºç æ˜¯æ€ä¹ˆå†™å§ï¼Œåªçœ‹æ–°è™šæ‹Ÿ DOM ä¸å«æœ‰ textï¼Œä¹Ÿå°±æ˜¯ä¸æ˜¯æ–‡æœ¬èŠ‚ç‚¹çš„æƒ…å†µï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCh "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// é€’å½’å¤„ç†ï¼Œç²¾ç»†æ¯”è¾ƒ")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹åº”åˆ†ç±» 3ï¸âƒ£")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("updateChildren")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" insertedVnodeQueue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" removeOnly"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__DEV__"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("checkDuplicateKeys")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯ä»¥å¿½ç•¥ä¸çœ‹")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹åº”åˆ†ç±» 2ï¸âƒ£")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" nodeOps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTextContent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addVnodes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" insertedVnodeQueue"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹åº”åˆ†ç±» 1ï¸âƒ£")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeVnodes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("text"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹åº”åˆ†ç±» 1ï¸âƒ£")]),t._v("\n    nodeOps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTextContent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br")])]),s("p",[t._v("â“æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æºç æŠŠåˆ†ç±» 1ï¸âƒ£ æ‹†å¼€æ¥äº†ï¼Œè¿™æ˜¯å› ä¸ºå¦‚æœè€è™šæ‹Ÿ DOM æœ‰å­èŠ‚ï¼Œé‚£ä¹ˆå¯èƒ½ç»‘å®šäº†ä¸€äº›å‡½æ•°ï¼Œéœ€è¦è¿›è¡Œè§£ç»‘ç­‰ä¸€ç³»åˆ—æ“ä½œï¼Œä½œè€…ä¹Ÿæ²¡è‡ªä¿¡çœ‹ï¼Œå¤§è‡´ç„äº†ä¸€çœ¼ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬è¦æ±‚ä¸é«˜ï¼Œå¦‚æœåªæ˜¯æƒ³è‡ªå·±æ‰‹åŠ¨å®ç° Diff ç®—æ³•ï¼Œé‚£ä¹ˆæ²¡æœ‰æ‹†å¼€çš„å¿…è¦ã€‚")]),t._v(" "),s("p",[t._v("ä½œè€…è§‰å¾—è¿™ä¹ˆè®²å¯èƒ½æ¯”ç½‘ä¸Šå…¶ä»–ä»‹ç» Diff ç®—æ³•çš„è¦å¥½ï¼Œå…¶ä»–çš„å¯èƒ½ç›´æ¥ç»™ä½ è¯´æºç æ˜¯æ€ä¹ˆå†™çš„ï¼Œå¯èƒ½æ²¡æœ‰è¯´æ˜ç™½ä¸ºå•¥è¿™ä¹ˆå†™ï¼Œä½†æ˜¯é€šè¿‡ä¹‹å‰è¿™ä¹ˆåˆ†æè®²è§£åå¯èƒ½ä½ å¯¹ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™ä¼šæœ‰æ›´æ·±çš„ç†è§£å’Œå¸®åŠ©å§ã€‚")]),t._v(" "),s("h2",{attrs:{id:"updatechildren-å‡½æ•°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#updatechildren-å‡½æ•°"}},[t._v("#")]),t._v(" updateChildren å‡½æ•°")]),t._v(" "),s("blockquote",[s("p",[t._v("åŒå±‚æ¯”è¾ƒ")])]),t._v(" "),s("p",[t._v("å› ä¸ºå½“éƒ½å«æœ‰å­èŠ‚ç‚¹ï¼Œå³éƒ½åŒ…å« children å±æ€§åï¼Œéœ€è¦ç²¾ç»†æ¯”è¾ƒä¸åŒï¼Œä¸èƒ½åƒä¹‹å‰é‚£äº›æƒ…å†µä¸€æ ·è¿›è¡Œç®€å•å¤„ç†å°±å¯ä»¥äº† é‚£ä¹ˆè¿™ä¸ªå‡½æ•°ä¸­å°±ä¼šä»‹ç»å¤§å®¶ç»å¸¸è¯´çš„ "),s("code",[t._v("å¤´å¤´ã€å°¾å°¾ã€å°¾å¤´ã€å¤´å°¾")]),t._v(" æ¯”è¾ƒäº†ï¼Œå…¶å®è¿™ä¸æ˜¯ Vue æå‡ºæ¥çš„ï¼Œæ˜¯å¾ˆæ—©å°±æå‡ºæ¥çš„ç®—æ³•ï¼Œå°±ä¸€ç›´æ²¿ç”¨è‡³ä»Šï¼Œå¤§å®¶å¯ä»¥å‚è€ƒ"),s("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fsnabbdom%2Fsnabbdom%2Ftree%2F794f6c210d25d6b095154b559828292359e1d298",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€snabbdom åº“ã€‘"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("ğŸŒŸ åœ¨è¿™ä¹‹å‰æˆ‘ä»¬è¦å®šä¹‰å››ä¸ªæŒ‡é’ˆ "),s("code",[t._v("newStartIdx")]),t._v("ã€"),s("code",[t._v("newEndIdx")]),t._v("ã€"),s("code",[t._v("oldStartIdx")]),t._v(" å’Œ "),s("code",[t._v("oldEndIdx")]),t._v("ï¼Œåˆ†åˆ«æŒ‡å‘ "),s("code",[t._v("æ–°å¤´èŠ‚ç‚¹")]),t._v("ã€"),s("code",[t._v("æ–°å°¾èŠ‚ç‚¹")]),t._v("ã€"),s("code",[t._v("æ—§å¤´èŠ‚ç‚¹")]),t._v(" ä¸ "),s("code",[t._v("æ—§å°¾èŠ‚ç‚¹")])]),t._v(" "),s("p",[t._v("å¾ªç¯æ¡ä»¶å¦‚ä¸‹ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldStartIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" oldEndIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" newStartIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" newEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("å…¶å®è¿™ä¸ªæ¯”è¾ƒä¹Ÿå°±æ˜¯æŒ‰äººç±»çš„ä¹ æƒ¯æ¥è¿›è¡Œæ¯”è¾ƒçš„ï¼Œæ¯”è¾ƒé¡ºåºå¦‚ä¸‹ ï¼š")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("1ï¸âƒ£ "),s("code",[t._v("æ–°å¤´èŠ‚ç‚¹")]),t._v("ä¸"),s("code",[t._v("æ—§å¤´èŠ‚ç‚¹")]),t._v("ï¼š"),s("code",[t._v("++newStartIdx")]),t._v(" å’Œ "),s("code",[t._v("++oldStartIdx")])])]),t._v(" "),s("li",[s("p",[t._v("2ï¸âƒ£ "),s("code",[t._v("æ–°å°¾èŠ‚ç‚¹")]),t._v("ä¸"),s("code",[t._v("æ—§å°¾èŠ‚ç‚¹")]),t._v("ï¼š"),s("code",[t._v("--newEndIdx")]),t._v(" å’Œ "),s("code",[t._v("--oldEndIdx")])])]),t._v(" "),s("li",[s("p",[t._v("3ï¸âƒ£ "),s("code",[t._v("æ–°å°¾èŠ‚ç‚¹")]),t._v("ä¸"),s("code",[t._v("æ—§å¤´èŠ‚ç‚¹")]),t._v("ï¼šéœ€è¦å°† "),s("code",[t._v("æ—§å¤´èŠ‚ç‚¹")]),t._v(" ç§»åŠ¨åˆ° "),s("code",[t._v("æ—§å°¾èŠ‚ç‚¹ä¹‹å‰")]),t._v("ï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œè®²èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œè®°ä½å°±å¥½ï¼Œç„¶å "),s("code",[t._v("--newEndIdx")]),t._v(" å’Œ "),s("code",[t._v("++oldStartIdx")])])]),t._v(" "),s("li",[s("p",[t._v("4ï¸âƒ£ "),s("code",[t._v("æ–°å¤´èŠ‚ç‚¹")]),t._v("ä¸"),s("code",[t._v("æ—§å°¾èŠ‚ç‚¹")]),t._v("ï¼šéœ€è¦å°† "),s("code",[t._v("æ—§å°¾èŠ‚ç‚¹")]),t._v(" ç§»åŠ¨åˆ° "),s("code",[t._v("æ—§å¤´èŠ‚ç‚¹ä¹‹å‰")]),t._v("ï¼Œä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšï¼Œè®²èµ·æ¥æ¯”è¾ƒå¤æ‚ï¼Œè®°ä½å°±å¥½ï¼Œç„¶å "),s("code",[t._v("++newStartIdx")]),t._v(" å’Œ "),s("code",[t._v("--oldEndIdx")])])]),t._v(" "),s("li",[s("p",[t._v("5ï¸âƒ£ å¦‚æœéƒ½æ²¡æœ‰åŒ¹é…çš„è¯ï¼Œå°±æŠŠ"),s("code",[t._v("æ–°å¤´èŠ‚ç‚¹")]),t._v("åœ¨æ—§èŠ‚ç‚¹åˆ—è¡¨(ä¹Ÿå°±æ˜¯ children å±æ€§çš„å€¼) ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼ŒæŸ¥æ‰¾æ–¹å¼æŒ‰ç…§å¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("å¦‚æœæœ‰ "),s("code",[t._v("key")]),t._v(" å°±æŠŠ "),s("code",[t._v("key")]),t._v(" åœ¨ "),s("code",[t._v("oldKeyToIdx")]),t._v(" è¿›è¡ŒåŒ¹é…ï¼Œ"),s("code",[t._v("oldKeyToIdx")]),t._v(" æ ¹æ®æ—§èŠ‚ç‚¹åˆ—è¡¨ä¸­å…ƒç´ çš„ "),s("code",[t._v("key")]),t._v(" ç”Ÿæˆå¯¹åº”çš„ä¸‹æ ‡")]),t._v(" "),s("li",[t._v("å¦‚æœæ²¡æœ‰ï¼Œå°±æŒ‰é¡ºåºéå†æ—§èŠ‚ç‚¹åˆ—è¡¨æ‰¾åˆ°è¯¥èŠ‚ç‚¹æ‰€åœ¨çš„ä¸‹æ ‡")]),t._v(" "),s("li",[t._v("å¦‚æœåœ¨æ—§èŠ‚ç‚¹åˆ—è¡¨æ˜¯å¦æ‰¾åˆ°ä¹Ÿåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š\n"),s("ul",[s("li",[t._v("æ‰¾åˆ°äº†ï¼Œé‚£ä¹ˆåªè¦å°† "),s("code",[t._v("æ–°å¤´èŠ‚ç‚¹")]),t._v(" æ·»åŠ åˆ° "),s("code",[t._v("æ—§å¤´èŠ‚ç‚¹")]),t._v(" ä¹‹å‰å³å¯")]),t._v(" "),s("li",[t._v("æ²¡æ‰¾åˆ°ï¼Œé‚£ä¹ˆéœ€è¦åˆ›å»ºæ–°çš„å…ƒç´ ç„¶åæ·»åŠ åˆ° "),s("code",[t._v("æ—§å¤´èŠ‚ç‚¹")]),t._v(" ä¹‹å‰")]),t._v(" "),s("li",[t._v("ç„¶åæŠŠè¿™ä¸ªèŠ‚ç‚¹è®¾ç½®ä¸º "),s("code",[t._v("undefined")])])])])])])]),t._v(" "),s("p",[t._v("æ ¹æ®å¾ªç¯æ¡ä»¶æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸¤ç§å‰©ä½™æƒ…å†µï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("6ï¸âƒ£ å¦‚æœ "),s("code",[t._v("oldStartIdx > oldEndIdx")]),t._v(" è¯´æ˜è€èŠ‚ç‚¹å…ˆéå†å®Œæˆï¼Œé‚£ä¹ˆæ–°èŠ‚ç‚¹æ¯”è€èŠ‚ç‚¹å¤šï¼Œå°±è¦æŠŠ "),s("code",[t._v("newStartIdx")]),t._v(" ä¸ "),s("code",[t._v("newEndIdx")]),t._v(" ä¹‹é—´çš„å…ƒç´ æ·»åŠ ")]),t._v(" "),s("li",[t._v("7ï¸âƒ£ å¦‚æœ "),s("code",[t._v("newStartIdx > newEndIdx")]),t._v(" è¯´æ˜æ–°èŠ‚ç‚¹å…ˆéå†å®Œæˆï¼Œé‚£ä¹ˆè€èŠ‚ç‚¹æ¯”æ–°èŠ‚ç‚¹å¤šï¼Œå°±è¦æŠŠ "),s("code",[t._v("oldStartIdx")]),t._v(" ä¸ "),s("code",[t._v("oldEndIdx")]),t._v(" ä¹‹é—´çš„å…ƒç´ åˆ é™¤")])]),t._v(" "),s("p",[t._v("å…¶å®æˆ‘ä»¬ä¸Šé¢è¿˜æ²¡æœ‰è€ƒè™‘å¦‚æœèŠ‚ç‚¹ä¸º "),s("code",[t._v("undefined")]),t._v(" çš„æƒ…å†µï¼Œå› ä¸ºåœ¨ä¸Šé¢ä¹Ÿæåˆ°è¿‡ï¼Œå¦‚æœå››ç§éƒ½ä¸åŒ¹é…åä¼šå°†è¯¥èŠ‚ç‚¹ç½®ä¸º "),s("code",[t._v("undefined")]),t._v("ï¼Œä¹Ÿåªæœ‰æ—§èŠ‚ç‚¹åˆ—è¡¨ä¸­æ‰æœ‰ï¼Œå› æ­¤è¦åœ¨å¼€å¤´è€ƒè™‘è¿™ä¸¤ç§æƒ…å†µï¼š")]),t._v(" "),s("ul",[s("li",[t._v("8ï¸âƒ£ å½“ "),s("code",[t._v("oldStartVnode")]),t._v(" ä¸º "),s("code",[t._v("undefined")]),t._v("ï¼š"),s("code",[t._v("++oldStartIdx")])]),t._v(" "),s("li",[t._v("9ï¸âƒ£ å½“ "),s("code",[t._v("oldEndVnode")]),t._v(" ä¸º "),s("code",[t._v("undefined")]),t._v("ï¼š"),s("code",[t._v("--oldEndIdx")])])]),t._v(" "),s("p",[t._v("é‚£ä¹ˆæˆ‘ä»¬æ¥çœ‹æºç æ€ä¹ˆå†™çš„å§ï¼Œå…¶ä¸­ç”¨åˆ°çš„å‡½æ•°å¯ä»¥æŸ¥çœ‹"),s("strong",[t._v("æºç é™„å½•")]),t._v("ï¼š")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// https://github.com/vuejs/vue/blob/main/src/core/vdom/patch.ts")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 439 è¡Œè‡³ 556 è¡Œ")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldStartIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" oldEndIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" newStartIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" newEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 8ï¸âƒ£")]),t._v("\n    oldStartVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("oldStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vnode has been moved left")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldEndVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 9ï¸âƒ£")]),t._v("\n    oldEndVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("oldEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sameVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 1ï¸âƒ£")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    oldStartVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("oldStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    newStartVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("newStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sameVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldEndVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newEndVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 2ï¸âƒ£")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    oldEndVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("oldEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    newEndVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("newEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sameVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newEndVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vnode moved right")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 3ï¸âƒ£")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    canMove "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n      nodeOps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertBefore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        parentElm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        oldStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        nodeOps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("nextSibling")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldEndVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    oldStartVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("oldStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    newEndVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("newEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sameVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldEndVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Vnode moved left")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 4ï¸âƒ£")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    canMove "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n      nodeOps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertBefore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parentElm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldEndVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    oldEndVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("oldEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    newStartVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("newStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  \t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 5ï¸âƒ£")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldKeyToIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»º key -> index çš„ Map")]),t._v("\n      oldKeyToIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createKeyToOldIdx")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‰¾åˆ° æ–°å¤´èŠ‚ç‚¹ çš„ä¸‹æ ‡")]),t._v("\n    idxInOld "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isDef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" oldKeyToIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("newStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("findIdxInOld")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("idxInOld"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// New element")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ²¡æ‰¾åˆ°")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¦‚æœæ‰¾åˆ°äº†")]),t._v("\n      vnodeToMove "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("idxInOld"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sameVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vnodeToMove"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" newStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchVnode")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        oldCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("idxInOld"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),t._v("\n        canMove "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n          nodeOps"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("insertBefore")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n            parentElm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            vnodeToMove"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elm"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            oldStartVnode"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elm\n          "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// same key but different element. treat as new element")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElm")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    newStartVnode "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" newCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),t._v("newStartIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("oldStartIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" oldEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 6ï¸âƒ£")]),t._v("\n  refElm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("isUndef")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("newEndIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" newCh"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("newEndIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("elm\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("addVnodes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("newStartIdx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" newEndIdx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æƒ…å†µ 7ï¸âƒ£")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("removeVnodes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br"),s("span",{staticClass:"line-number"},[t._v("77")]),s("br"),s("span",{staticClass:"line-number"},[t._v("78")]),s("br"),s("span",{staticClass:"line-number"},[t._v("79")]),s("br")])]),s("blockquote",[s("p",[t._v("å¦‚æœé—®ä¸ºä»€ä¹ˆè¿™ä¹ˆæ¯”è¾ƒï¼Œå›ç­”å°±æ˜¯ç»è¿‡å¾ˆå¤šäººå¾ˆå¤šå¹´çš„è®¨è®ºå¾—å‡ºçš„ï¼Œå…¶å®åªè¦è®°ä½è¿‡ç¨‹å°±è¡Œäº†ï¼Œå¦‚æœæƒ³è¦æ›´æ·±äº†è§£ Diff ç®—æ³•ï¼Œå¯ä»¥å» B ç«™çœ‹"),s("a",{attrs:{href:"https://link.juejin.cn/?target=https%3A%2F%2Fwww.bilibili.com%2Fvideo%2FBV1v5411H7gZ%3Fp%3D1%26vd_source%3D9f49d3e54ff277fa493d41e5e7bfa8dc",target:"_blank",rel:"noopener noreferrer"}},[t._v("ã€å°šç¡…è°·ã€‘Vueæºç è§£æä¹‹è™šæ‹ŸDOMå’Œdiffç®—æ³•"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"v-for-ä¸­ä¸ºä»€ä¹ˆè¦åŠ -key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#v-for-ä¸­ä¸ºä»€ä¹ˆè¦åŠ -key"}},[t._v("#")]),t._v(" v-for ä¸­ä¸ºä»€ä¹ˆè¦åŠ  key")]),t._v(" "),s("p",[t._v("è¿™ä¸ªé—®é¢˜é¢è¯•å¾ˆå¸¸è§ï¼Œä½†æ˜¯å¯èƒ½å¤§éƒ¨åˆ†äººä¹Ÿå°±åªä¼šèƒŒå…«è‚¡ï¼Œæ²¡æœ‰å®Œå…¨ç†è§£ï¼Œé‚£ä¹ˆç»è¿‡ä»¥ä¸Šçš„ä»‹ç»ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°è‡ªå·±çš„ç†è§£ï¼š")]),t._v(" "),s("ul",[s("li",[t._v("é¦–å…ˆï¼Œå¦‚æœä¸åŠ  key çš„è¯ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå» Map é‡ŒåŒ¹é… "),s("em",[t._v("(O(1))")]),t._v("ï¼Œè€Œæ˜¯å¾ªç¯éå†æ•´ä¸ªåˆ—è¡¨ "),s("em",[t._v("(O(n))")]),t._v("ï¼Œè‚¯å®šåŠ  key è¦å¿«ä¸€ç‚¹ï¼Œæ€§èƒ½æ›´é«˜")]),t._v(" "),s("li",[t._v("å…¶æ¬¡ï¼Œå¦‚æœä¸åŠ  key é‚£ä¹ˆåœ¨æ’å…¥æˆ–åˆ é™¤çš„æ—¶å€™å°±ä¼šå‡ºç°ï¼ŒåŸæœ¬ä¸æ˜¯åŒä¸€ä¸ªèŠ‚ç‚¹çš„å…ƒç´ è¢«è®¤ä¸ºæ˜¯ç›¸åŒèŠ‚ç‚¹ï¼Œä¸Šé¢ä¹Ÿæœ‰è¯´è¿‡æ˜¯ "),s("code",[t._v("sameVnode")]),t._v(" å‡½æ•°åˆ¤æ–­çš„ï¼Œå› æ­¤å¯èƒ½ä¼šæœ‰é¢å¤– DOM æ“ä½œ")])]),t._v(" "),s("blockquote",[s("p",[t._v("ä¸ºä»€ä¹ˆè¯´å¯èƒ½æœ‰é¢å¤– DOM æ“ä½œå‘¢ï¼Ÿè¿™ä¸ªå’Œæ’å…¥çš„åœ°æ–¹æœ‰å…³ï¼Œä¹‹åä¼šè®¨è®ºï¼ŒåŒç†åˆ é™¤ä¹Ÿä¸€æ ·")])]),t._v(" "),s("h2",{attrs:{id:"è¯æ˜-key-çš„æ€§èƒ½"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¯æ˜-key-çš„æ€§èƒ½"}},[t._v("#")]),t._v(" è¯æ˜ key çš„æ€§èƒ½")]),t._v(" "),s("p",[t._v("æˆ‘ä»¬åˆ†ä¸ºä¸‰ä¸ªå®éªŒï¼šæ²¡æœ‰ keyã€key ä¸º indexã€key å”¯ä¸€ï¼Œä»…è¯æ˜åŠ äº† key å¯ä»¥è¿›è¡Œæœ€å°åŒ–æ›´æ–°æ“ä½œã€‚")]),t._v(" "),s("h2",{attrs:{id:"å®éªŒä»£ç "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®éªŒä»£ç "}},[t._v("#")]),t._v(" å®éªŒä»£ç ")]),t._v(" "),s("p",[t._v("æœ‰å°ä¼™ä¼´è¯„è®ºè¯´å¯ä»¥æŠŠä»£ç è´´ä¸Šè¿™æ ·æ›´å¥½ï¼Œé‚£ä¹ˆä½œè€…å°±æŠŠä»£ç é™„ä¸Š ğŸ¥³ï¼š")]),t._v(" "),s("div",{staticClass:"language-html line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{pre:!0,attrs:{class:"token doctype"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),s("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("http-equiv")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("X-UA-Compatible"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("IE=edge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("viewport"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("content")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("width=device-width, initial-scale=1.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Document"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}}),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token style"}},[s("span",{pre:!0,attrs:{class:"token language-css"}},[t._v("\n    "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".box")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("display")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" flex"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("flex-direction")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" row"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token selector"}},[t._v(".item")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v("flex")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" 1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  ")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("style")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("app"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("box"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("æ²¡æœ‰ key"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(item, index) in list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ item }}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("key ä¸º index"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(item, index) in list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ item }}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("div")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("h3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("key å”¯ä¸€"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("h3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("v-for")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("(item, index) in list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":key")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("{{ item }}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("click1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("push(4)"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("click2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("splice(1, 0, 666)"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("click3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("unshift(999)"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("br")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("br")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("click4"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("pop()"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("click5"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("splice(1, 1)"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("button")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("@click")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("click6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("shift()"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("button")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("div")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token script"}},[s("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" app "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("el")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#app'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("data")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("show")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("list")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("click1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("push")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("click2")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("666")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("click3")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("unshift")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("999")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("click4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("click5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("splice")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("click6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("list"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("shift")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br"),s("span",{staticClass:"line-number"},[t._v("29")]),s("br"),s("span",{staticClass:"line-number"},[t._v("30")]),s("br"),s("span",{staticClass:"line-number"},[t._v("31")]),s("br"),s("span",{staticClass:"line-number"},[t._v("32")]),s("br"),s("span",{staticClass:"line-number"},[t._v("33")]),s("br"),s("span",{staticClass:"line-number"},[t._v("34")]),s("br"),s("span",{staticClass:"line-number"},[t._v("35")]),s("br"),s("span",{staticClass:"line-number"},[t._v("36")]),s("br"),s("span",{staticClass:"line-number"},[t._v("37")]),s("br"),s("span",{staticClass:"line-number"},[t._v("38")]),s("br"),s("span",{staticClass:"line-number"},[t._v("39")]),s("br"),s("span",{staticClass:"line-number"},[t._v("40")]),s("br"),s("span",{staticClass:"line-number"},[t._v("41")]),s("br"),s("span",{staticClass:"line-number"},[t._v("42")]),s("br"),s("span",{staticClass:"line-number"},[t._v("43")]),s("br"),s("span",{staticClass:"line-number"},[t._v("44")]),s("br"),s("span",{staticClass:"line-number"},[t._v("45")]),s("br"),s("span",{staticClass:"line-number"},[t._v("46")]),s("br"),s("span",{staticClass:"line-number"},[t._v("47")]),s("br"),s("span",{staticClass:"line-number"},[t._v("48")]),s("br"),s("span",{staticClass:"line-number"},[t._v("49")]),s("br"),s("span",{staticClass:"line-number"},[t._v("50")]),s("br"),s("span",{staticClass:"line-number"},[t._v("51")]),s("br"),s("span",{staticClass:"line-number"},[t._v("52")]),s("br"),s("span",{staticClass:"line-number"},[t._v("53")]),s("br"),s("span",{staticClass:"line-number"},[t._v("54")]),s("br"),s("span",{staticClass:"line-number"},[t._v("55")]),s("br"),s("span",{staticClass:"line-number"},[t._v("56")]),s("br"),s("span",{staticClass:"line-number"},[t._v("57")]),s("br"),s("span",{staticClass:"line-number"},[t._v("58")]),s("br"),s("span",{staticClass:"line-number"},[t._v("59")]),s("br"),s("span",{staticClass:"line-number"},[t._v("60")]),s("br"),s("span",{staticClass:"line-number"},[t._v("61")]),s("br"),s("span",{staticClass:"line-number"},[t._v("62")]),s("br"),s("span",{staticClass:"line-number"},[t._v("63")]),s("br"),s("span",{staticClass:"line-number"},[t._v("64")]),s("br"),s("span",{staticClass:"line-number"},[t._v("65")]),s("br"),s("span",{staticClass:"line-number"},[t._v("66")]),s("br"),s("span",{staticClass:"line-number"},[t._v("67")]),s("br"),s("span",{staticClass:"line-number"},[t._v("68")]),s("br"),s("span",{staticClass:"line-number"},[t._v("69")]),s("br"),s("span",{staticClass:"line-number"},[t._v("70")]),s("br"),s("span",{staticClass:"line-number"},[t._v("71")]),s("br"),s("span",{staticClass:"line-number"},[t._v("72")]),s("br"),s("span",{staticClass:"line-number"},[t._v("73")]),s("br"),s("span",{staticClass:"line-number"},[t._v("74")]),s("br"),s("span",{staticClass:"line-number"},[t._v("75")]),s("br"),s("span",{staticClass:"line-number"},[t._v("76")]),s("br")])]),s("h3",{attrs:{id:"å¢åŠ å®éªŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¢åŠ å®éªŒ"}},[t._v("#")]),t._v(" å¢åŠ å®éªŒ")]),t._v(" "),s("p",[t._v("å®éªŒå¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬é¦–å…ˆæ›´æ”¹åŸæ–‡å­—ï¼Œç„¶åç‚¹å‡»æŒ‰é’®**ã€Œè§‚å¯ŸèŠ‚ç‚¹å‘ç”Ÿå˜åŒ–çš„ä¸ªæ•°ã€**ï¼š")]),t._v(" "),s("h4",{attrs:{id:"åœ¨é˜Ÿå°¾å¢åŠ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨é˜Ÿå°¾å¢åŠ "}},[t._v("#")]),t._v(" åœ¨é˜Ÿå°¾å¢åŠ ")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://photo-album-1314189846.cos.ap-shanghai.myqcloud.com/202304152331545.awebp",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("h4",{attrs:{id:"åœ¨é˜Ÿå†…å¢åŠ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨é˜Ÿå†…å¢åŠ "}},[t._v("#")]),t._v(" åœ¨é˜Ÿå†…å¢åŠ ")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8f170afbd5ef4ae59047ff6fd5dda150~tplv-k3u1fbpfcp-zoom-in-crop-mark:4536:0:0:0.awebp",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("h4",{attrs:{id:"åœ¨é˜Ÿé¦–å¢åŠ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨é˜Ÿé¦–å¢åŠ "}},[t._v("#")]),t._v(" åœ¨é˜Ÿé¦–å¢åŠ ")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://photo-album-1314189846.cos.ap-shanghai.myqcloud.com/202304152332653.gif",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("h3",{attrs:{id:"åˆ é™¤å®éªŒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤å®éªŒ"}},[t._v("#")]),t._v(" åˆ é™¤å®éªŒ")]),t._v(" "),s("h4",{attrs:{id:"åœ¨é˜Ÿå°¾åˆ é™¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨é˜Ÿå°¾åˆ é™¤"}},[t._v("#")]),t._v(" åœ¨é˜Ÿå°¾åˆ é™¤")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://photo-album-1314189846.cos.ap-shanghai.myqcloud.com/202304152332779.awebp",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("h4",{attrs:{id:"åœ¨é˜Ÿå†…åˆ é™¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨é˜Ÿå†…åˆ é™¤"}},[t._v("#")]),t._v(" åœ¨é˜Ÿå†…åˆ é™¤")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://photo-album-1314189846.cos.ap-shanghai.myqcloud.com/202304152332455.awebp",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("h4",{attrs:{id:"åœ¨é˜Ÿé¦–åˆ é™¤"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åœ¨é˜Ÿé¦–åˆ é™¤"}},[t._v("#")]),t._v(" åœ¨é˜Ÿé¦–åˆ é™¤")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://photo-album-1314189846.cos.ap-shanghai.myqcloud.com/202304152332458.gif",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"}})]),t._v(" "),s("h3",{attrs:{id:"å®éªŒç»“è®º"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å®éªŒç»“è®º"}},[t._v("#")]),t._v(" å®éªŒç»“è®º")]),t._v(" "),s("h4",{attrs:{id:"å¢åŠ å®éªŒ-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¢åŠ å®éªŒ-2"}},[t._v("#")]),t._v(" å¢åŠ å®éªŒ")]),t._v(" "),s("p",[t._v("è¡¨æ ¼ä¸ºæ¯æ¬¡å®éªŒä¸­ï¼Œæ¯ç§æƒ…å†µçš„æœ€å°æ›´æ–°é‡ï¼Œå‡è®¾åˆ—è¡¨åŸæ¥çš„é•¿åº¦ä¸º "),s("code",[t._v("n")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å®éªŒ")]),t._v(" "),s("th",[t._v("æ²¡æœ‰ key")]),t._v(" "),s("th",[t._v("key ä¸º index")]),t._v(" "),s("th",[t._v("key å”¯ä¸€")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("åœ¨é˜Ÿå°¾å¢åŠ ")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("åœ¨é˜Ÿä¸­å¢åŠ ")]),t._v(" "),s("td",[t._v("n - i + 1")]),t._v(" "),s("td",[t._v("n - i + 1")]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("åœ¨é˜Ÿé¦–å¢åŠ ")]),t._v(" "),s("td",[t._v("n + 1")]),t._v(" "),s("td",[t._v("n + 1")]),t._v(" "),s("td",[t._v("1")])])])]),t._v(" "),s("h4",{attrs:{id:"åˆ é™¤å®éªŒ-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åˆ é™¤å®éªŒ-2"}},[t._v("#")]),t._v(" åˆ é™¤å®éªŒ")]),t._v(" "),s("p",[t._v("è¡¨æ ¼ä¸ºæ¯æ¬¡å®éªŒä¸­ï¼Œæ¯ç§æƒ…å†µçš„æœ€å°æ›´æ–°é‡ï¼Œå‡è®¾åˆ—è¡¨åŸæ¥çš„é•¿åº¦ä¸º "),s("code",[t._v("n")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("å®éªŒ")]),t._v(" "),s("th",[t._v("æ²¡æœ‰ key")]),t._v(" "),s("th",[t._v("key ä¸º index")]),t._v(" "),s("th",[t._v("key å”¯ä¸€")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("åœ¨é˜Ÿå°¾åˆ é™¤")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("1")]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("åœ¨é˜Ÿä¸­åˆ é™¤")]),t._v(" "),s("td",[t._v("n - i")]),t._v(" "),s("td",[t._v("n - i")]),t._v(" "),s("td",[t._v("1")])]),t._v(" "),s("tr",[s("td",[t._v("åœ¨é˜Ÿé¦–åˆ é™¤")]),t._v(" "),s("td",[t._v("n")]),t._v(" "),s("td",[t._v("n")]),t._v(" "),s("td",[t._v("1")])])])]),t._v(" "),s("p",[t._v("é€šè¿‡ä»¥ä¸Šå®éªŒå’Œè¡¨æ ¼å¯ä»¥å¾—åˆ°åŠ ä¸Š key çš„æ€§èƒ½å’Œæœ€å°é‡æ›´æ–°çš„ä¸ªæ•°æ˜¯æœ€å°çš„ï¼Œè™½ç„¶åœ¨ "),s("code",[t._v("åœ¨é˜Ÿå°¾å¢åŠ ")]),t._v(" å’Œ "),s("code",[t._v("åœ¨é˜Ÿå°¾åˆ é™¤")]),t._v(" çš„æœ€å°æ›´æ–°é‡ç›¸åŒï¼Œä½†æ˜¯ä¹‹å‰ä¹Ÿè¯´äº†ï¼Œå¦‚æœæ²¡æœ‰ key æ˜¯è¦å¾ªç¯æ•´ä¸ªåˆ—è¡¨æŸ¥æ‰¾çš„ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œè€ŒåŠ äº† key çš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼Œå› æ­¤æ€»ä½“æ¥è¯´åŠ äº† key çš„æ€§èƒ½è¦æ›´å¥½ã€‚")]),t._v(" "),s("h2",{attrs:{id:"å†™åœ¨æœ€å"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å†™åœ¨æœ€å"}},[t._v("#")]),t._v(" å†™åœ¨æœ€å")]),t._v(" "),s("p",[t._v("æœ¬æ–‡ä»æºç å’Œå®éªŒçš„è§’åº¦ä»‹ç»äº† Diff ç®—æ³•ï¼Œç›¸ä¿¡å¤§å®¶å¯¹ Diff ç®—æ³•æœ‰äº†æ›´æ·±çš„äº†è§£äº†ï¼Œå¦‚æœæœ‰é—®é¢˜å¯ç§ä¿¡äº¤æµæˆ–è€…è¯„è®ºåŒºäº¤æµï¼Œå¦‚æœå¤§å®¶å–œæ¬¢çš„è¯å¯ä»¥ç‚¹èµ â• æ”¶è— ğŸŒŸ")]),t._v(" "),s("h2",{attrs:{id:"æºç å‡½æ•°é™„å½•"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#æºç å‡½æ•°é™„å½•"}},[t._v("#")]),t._v(" æºç å‡½æ•°é™„å½•")]),t._v(" "),s("blockquote",[s("p",[t._v("åˆ—ä¸¾ä¸€äº›æºç ä¸­å‡ºç°çš„ç®€å•å‡½æ•°")])]),t._v(" "),s("p",[s("code",[t._v("setTextContent")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function setTextContent(node: Node, text: string) {\n  node.textContent = text\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("code",[t._v("isUndef")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function isUndef(v: any): v is undefined | null {\n  return v === undefined || v === null\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("code",[t._v("isDef")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function isDef<T>(v: T): v is NonNullable<T> {\n  return v !== undefined && v !== null\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("code",[t._v("insertBefore")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function insertBefore(\n  parentNode: Node,\n  newNode: Node,\n  referenceNode: Node\n) {\n  parentNode.insertBefore(newNode, referenceNode)\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[s("code",[t._v("nextSibling")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function nextSibling(node: Node) {\n  return node.nextSibling\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[s("code",[t._v("createKeyToOldIdx")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("function createKeyToOldIdx(children, beginIdx, endIdx) {\n  let i, key\n  const map = {}\n  for (i = beginIdx; i <= endIdx; ++i) {\n    key = children[i].key\n    if (isDef(key)) map[key] = i\n  }\n  return map\n}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);