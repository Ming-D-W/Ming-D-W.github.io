## 回调函数的概念

> **fs模块** 
>
> fs.writeFile('文件路径'，'编码格式'，function(err,dataStr){})
>
> - fs.writeFile是读取文件的方法，第一个参数是文件路径，可以写绝对路径也可以写相对路径。**__dirname**为当前目录可以用来拼接文件路径
> - 第二个参数是编码格式，一边采用utf-8 国际码
> - 第三个参数是回调函数，err成功时为null，失败时为失败信息。可以用err!==null来判断是否执行成功。dataStr为读取的文件内容。

JavaScript 语言对异步编程的实现，就是回调函数。**所谓回调函数，就是把任务的第二段单独写在一个函数里面，等到重新执行这个任务的时候，就直接调用这个函数。** 它的英语名字 `callback`，直译过来就是"重新调用"。

读取文件进行处理，是这样写的。

```javascript
 fs.readFile('/etc/passwd', function (err, data) {
   if (err) throw err;
   console.log(data);
 });
```

上面代码中，readFile 函数的第二个参数，就是回调函数，也就是任务的第二段。等到操作系统返回了 /etc/passwd 这个文件以后，回调函数才会执行。

一个有趣的问题是，为什么 Node.js 约定，回调函数的第一个参数，必须是错误对象err（如果没有错误，该参数就是 null）？原因是执行分成两段，在这两段之间抛出的错误，程序无法捕捉，只能当作参数，传入第二段。

## 数组的常用方法有哪些?

- join(separator):将数组的元素组起一个字符串，以separator为分隔符，省略的话则用默认用逗号为分隔符

- push()：将参数添加到原数组末尾，并返回数组的长度(修改原数组)

- pop()：删除原数组最后一项，并返回删除元素的值；如果数组为空则返回undefined（修改原数组）

- shift()：删除原数组第一项，并返回删除元素的值；如果数组为空则返回undefined

- unshift()： 将参数添加到原数组开头，并返回数组的长度（修改原数组）

- slice(start,end):可以截取出数组某部份的元素为一个新的数组，有两个必填的参数，第一个是起始位置，第二个是结束位置( 操作时数字减1 ) 原数组不改变

- splice(start,deleteCount,val1,val2,…):从start位置开始删除deleteCount项，并从该位置起插入。（修改原数组）

- fill()：使用特定值填充数组中的一个或多个元素(修改原数组)

- filter()：过滤,数组中的每一项运行给定函数，返回满足过滤条件组成的数组

- concat()：可以将两个数组合并在一起，如果是使用ES6语法也可以用扩展运算符…来代替

- indexOf()：返回当前值在数组中第一次出现位置的索引

- lastIndexOf()：返回查找的字符串最后出现的位置，如果没有找到匹配字符串则返回 -1。

- every()：判断数组中每一项是否都符合条件

- some()：判断数组中是否存在满足的项

- includes()：判断一个数组是否包含指定的值

- sort(orderfunction):按指定的参数对数组进行排序(修改原数组)

- reverse()：将数组反序(修改原数组)

- forEach()：循环遍历数组每一项（没有返回值）

- map()：循环遍历数组的每一项（有返回值）

- copyWithin(): 从数组的指定位置拷贝元素到数组的另一个指定位置中（修改原数组）

- find(): 返回第一个匹配的值，并停止查找

- findIndex(): 返回第一个匹配值的索引，并停止查找

- toLocaleString()、toString():将数组转换为字符串

- flat()、flatMap()：扁平化数组

- entries() 、keys() 、values():遍历数组

## 深浅拷贝 递归

## Promise

### Prpmise.all

### async&await

Qingjiu

![iShot_2023-02-19_17.28.38](https://photo-album-1314189846.cos.ap-shanghai.myqcloud.com/202303241546652.png)

## 防抖节流

Lodash 的 debounce 和 throttle 的实现